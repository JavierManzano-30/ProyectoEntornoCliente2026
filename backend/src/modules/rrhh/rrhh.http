@baseUrl = http://localhost:3001/api/v1
@email = pepe@acme.com
@password = secret123
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI4M2VhOGNlOS0xOTlkLTRmYjItODVmYy1lOGU4MTkyN2VjY2IiLCJjb21wYW55SWQiOiI4ZGVkYjVmMS05YjEzLTRmNTItYmJkZS1kOTVmNGNkMjRiNjQiLCJyb2xlSWQiOiIxYjQ5NDc2MS1iNjY2LTQxYjYtYjcxNi1hMThlMTc5ZDJhNzQiLCJpYXQiOjE3NzA3OTQzMzAsImV4cCI6MTc3MDgyMzEzMH0.eDgJE6GqzZT0u-pPuOSNj_e2Tal3SF7jm-0mQ0tuXTk
@company_id = 8dedb5f1-9b13-4f52-bbde-d95f4cd24b64
@employee_id = e402de3d-4f7f-47cf-92ab-e68ae0b4bb08
@department_id = 13214298-480b-4bb8-b63d-03bc67e3bec2
@contract_id = cc8f3754-05a3-4341-a0bb-7b4216d78104
@absence_id = ac9d3d90-050e-4f34-9302-76fcc1505bec
@payroll_id = e1a72d2b-094e-4a1b-9c3c-6bc63e6372f3
@evaluation_id = c3a0be98-b957-4f50-804c-0dd3a9d749d0

### Health RRHH
GET {{baseUrl}}/rrhh/health

### Login CORE (copiar token de la respuesta a @token)
POST {{baseUrl}}/core/auth/login
Content-Type: application/json

{
  "email": "pepe@acme.com",
  "password": "secret123"
}

### Listar departamentos
GET {{baseUrl}}/rrhh/departamentos?page=1&limit=10
Authorization: Bearer {{token}}

### Crear departamento
POST {{baseUrl}}/rrhh/departamentos
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "name": "Recursos Humanos",
  "parent_department_id": null,
  "active": true
}

### Obtener departamento
GET {{baseUrl}}/rrhh/departamentos/{{department_id}}
Authorization: Bearer {{token}}

### Actualizar departamento
PUT {{baseUrl}}/rrhh/departamentos/{{department_id}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "name": "RRHH Corporativo",
  "parent_department_id": null,
  "active": true
}

### Borrar departamento (DELETE fisico)
DELETE {{baseUrl}}/rrhh/departamentos/{{department_id}}
Authorization: Bearer {{token}}

### Listar empleados
GET {{baseUrl}}/rrhh/empleados?page=1&limit=10
Authorization: Bearer {{token}}

### Crear empleado
POST {{baseUrl}}/rrhh/empleados
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "first_name": "Ana",
  "last_name": "Lopez",
  "email": "ana.lopez@empresa.com",
  "status": "active",
  "hire_date": "2026-02-01",
  "department_id": "{{department_id}}",
  "user_id": null
}

### Obtener empleado
GET {{baseUrl}}/rrhh/empleados/{{employee_id}}
Authorization: Bearer {{token}}

### Resumen empleado
GET {{baseUrl}}/rrhh/empleados/{{employee_id}}/resumen
Authorization: Bearer {{token}}

### Actualizar empleado
PUT {{baseUrl}}/rrhh/empleados/{{employee_id}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "first_name": "Ana Maria",
  "last_name": "Lopez",
  "email": "ana.maria.lopez@empresa.com",
  "status": "active",
  "hire_date": "2026-02-01",
  "department_id": "{{department_id}}",
  "user_id": null
}

### Baja logica empleado
DELETE {{baseUrl}}/rrhh/empleados/{{employee_id}}
Authorization: Bearer {{token}}

### Listar contratos
GET {{baseUrl}}/rrhh/contratos?page=1&limit=10
Authorization: Bearer {{token}}

### Crear contrato
POST {{baseUrl}}/rrhh/contratos
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "employee_id": "{{employee_id}}",
  "start_date": "2026-02-01",
  "end_date": null,
  "contract_type": "indefinido",
  "salary": 28000,
  "active": true
}

### Obtener contrato
GET {{baseUrl}}/rrhh/contratos/{{contract_id}}
Authorization: Bearer {{token}}

### Actualizar contrato
PUT {{baseUrl}}/rrhh/contratos/{{contract_id}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "employee_id": "{{employee_id}}",
  "start_date": "2026-02-01",
  "end_date": "2026-12-31",
  "contract_type": "temporal",
  "salary": 29000,
  "active": true
}

### Desactivar contrato
DELETE {{baseUrl}}/rrhh/contratos/{{contract_id}}
Authorization: Bearer {{token}}

### Listar ausencias
GET {{baseUrl}}/rrhh/ausencias?page=1&limit=10
Authorization: Bearer {{token}}

### Crear ausencia
POST {{baseUrl}}/rrhh/ausencias
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "employee_id": "{{employee_id}}",
  "type": "vacaciones",
  "start_date": "2026-08-01",
  "end_date": "2026-08-15",
  "status": "pending",
  "notes": "Vacaciones verano"
}

### Obtener ausencia
GET {{baseUrl}}/rrhh/ausencias/{{absence_id}}
Authorization: Bearer {{token}}

### Actualizar ausencia
PUT {{baseUrl}}/rrhh/ausencias/{{absence_id}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "employee_id": "{{employee_id}}",
  "type": "permiso",
  "start_date": "2026-08-01",
  "end_date": "2026-08-05",
  "status": "pending",
  "notes": "Permiso personal"
}

### Aprobar ausencia
PATCH {{baseUrl}}/rrhh/ausencias/{{absence_id}}/aprobar
Authorization: Bearer {{token}}

### Rechazar ausencia
PATCH {{baseUrl}}/rrhh/ausencias/{{absence_id}}/rechazar
Authorization: Bearer {{token}}

### Borrado logico ausencia
DELETE {{baseUrl}}/rrhh/ausencias/{{absence_id}}
Authorization: Bearer {{token}}

### Listar nominas
GET {{baseUrl}}/rrhh/nominas?page=1&limit=10
Authorization: Bearer {{token}}

### Crear nomina
POST {{baseUrl}}/rrhh/nominas
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "employee_id": "{{employee_id}}",
  "period": "2026-01",
  "gross_amount": 2500,
  "net_amount": 1900
}

### Obtener nomina
GET {{baseUrl}}/rrhh/nominas/{{payroll_id}}
Authorization: Bearer {{token}}

### Listar evaluaciones
GET {{baseUrl}}/rrhh/evaluaciones?page=1&limit=10
Authorization: Bearer {{token}}

### Crear evaluacion
POST {{baseUrl}}/rrhh/evaluaciones
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "company_id": "{{company_id}}",
  "employee_id": "{{employee_id}}",
  "score": 85,
  "review_date": "2026-01-31",
  "notes": "Buen desempeno general"
}

### Obtener evaluacion
GET {{baseUrl}}/rrhh/evaluaciones/{{evaluation_id}}
Authorization: Bearer {{token}}
